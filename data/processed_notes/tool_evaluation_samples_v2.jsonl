{"system": "\n        You are a discharge safety checker. You MUST call tools to analyze each category of data.\n        Do not rely on your own reasoning for these tasks.\n\n        Return a STRICT JSON object with keys: {ready:boolean, reasons:list, summary:object}.\n\n        Rules:\n        - Always use the available tools BEFORE deciding:\n        1. Call `flag_labs` on ALL lab values to determine which are abnormal unless there are no labs available.\n            - You are NOT allowed to decide abnormality yourself.\n        2. Call `followup_gap` to calculate time to earliest follow-up unless there are no follow-ups available.\n            - Do not estimate yourself; always call the tool.\n        3. Call `umls_normalize` to normalize diagnoses unless there are no diagnoses available.\n            - First clean and separate diagnoses, then pass them to the tool.\n        - After tool calls, combine results with medication changes to make a final decision.\n        - summary MUST include: {labs:object, followup:object, meds:object, diagnoses:object}.\n        - diagnoses MUST be a list of {input, cui, pref_name, semantic_types}.\n\n        DIAGNOSIS PROCESSING:\n        Before calling umls_normalize, clean and separate diagnoses:\n        - Remove abbreviations: 's/p' (status post), '2/2' (secondary to), 'c/b' (complicated by).\n        - Split compound diagnoses into individual conditions.\n        Examples:\n        * \"R femoral neck fracture s/p ORIF\" \u2192 [\"femoral neck fracture\"]\n        * \"Upper GI bleeding 2/2 duodenal ulcer, acute blood loss anemia\" \u2192 [\"upper gastrointestinal bleeding\", \"duodenal ulcer\", \"acute blood loss anemia\"]\n        * \"COPD exacerbation c/b pneumonia\" \u2192 [\"COPD exacerbation\", \"pneumonia\"]\n        ", "user": "Given this extracted discharge JSON, determine if the patient appears READY for discharge for a demo card.\nConsider abnormal labs, follow-up timing (<=7 days goal), medication changes, and the normalized diagnoses.\nReturn STRICT JSON: {ready:boolean, reasons:list, summary:object}.\n- DO NOT ADD ANY MARKDOWN FORMATTING (no ```json or ```)\n- RETURN ONLY THE JSON OBJECT\nData:\n{\"discharge_date\": \"2024-03-18\", \"chief_complaint\": \"Cough and fever x4 days\", \"primary_discharge_diagnosis\": \"Community-acquired pneumonia\", \"procedures_performed\": [], \"discharge_condition\": {\"mental_status\": \"Clear and coherent\", \"consciousness_level\": \"Alert and interactive\", \"activity_status\": \"Ambulatory - independent\"}, \"discharge_disposition\": \"Home\", \"medication_changes\": {\"new_medications\": [{\"name\": \"Azithromycin\", \"dose\": \"250mg\", \"frequency\": \"daily\"}], \"dose_changes\": []}, \"follow_up_appointments\": [{\"provider\": \"Dr. Maria Martinez\", \"specialty\": \"PCP\", \"date\": \"2024-03-25\", \"time\": \"2:00 PM\"}], \"most_recent_labs\": [{\"name\": \"WBC\", \"value\": \"8.9\", \"date\": \"2024-03-18\"}, {\"name\": \"Hgb\", \"value\": \"12.8\", \"date\": \"2024-03-18\"}, {\"name\": \"Plt\", \"value\": \"245\", \"date\": \"2024-03-15\"}, {\"name\": \"Na\", \"value\": \"138\", \"date\": \"2024-03-15\"}, {\"name\": \"K\", \"value\": \"4.1\", \"date\": \"2024-03-15\"}, {\"name\": \"Cl\", \"value\": \"102\", \"date\": \"2024-03-15\"}, {\"name\": \"CO2\", \"value\": \"24\", \"date\": \"2024-03-15\"}, {\"name\": \"BUN\", \"value\": \"22\", \"date\": \"2024-03-15\"}, {\"name\": \"Cr\", \"value\": \"1.1\", \"date\": \"2024-03-15\"}, {\"name\": \"Glu\", \"value\": \"145\", \"date\": \"2024-03-15\"}]}\n\n", "result_json": {"discharge_date": "2024-03-18", "chief_complaint": "Cough and fever x4 days", "primary_discharge_diagnosis": "Community-acquired pneumonia", "procedures_performed": [], "discharge_condition": {"mental_status": "Clear and coherent", "consciousness_level": "Alert and interactive", "activity_status": "Ambulatory - independent"}, "discharge_disposition": "Home", "medication_changes": {"new_medications": [{"name": "Azithromycin", "dose": "250mg", "frequency": "daily"}], "dose_changes": []}, "follow_up_appointments": [{"provider": "Dr. Maria Martinez", "specialty": "PCP", "date": "2024-03-25", "time": "2:00 PM"}], "most_recent_labs": [{"name": "WBC", "value": "8.9", "date": "2024-03-18"}, {"name": "Hgb", "value": "12.8", "date": "2024-03-18"}, {"name": "Plt", "value": "245", "date": "2024-03-15"}, {"name": "Na", "value": "138", "date": "2024-03-15"}, {"name": "K", "value": "4.1", "date": "2024-03-15"}, {"name": "Cl", "value": "102", "date": "2024-03-15"}, {"name": "CO2", "value": "24", "date": "2024-03-15"}, {"name": "BUN", "value": "22", "date": "2024-03-15"}, {"name": "Cr", "value": "1.1", "date": "2024-03-15"}, {"name": "Glu", "value": "145", "date": "2024-03-15"}]}}
{"system": "\n        You are a discharge safety checker. You MUST call tools to analyze each category of data.\n        Do not rely on your own reasoning for these tasks.\n\n        Return a STRICT JSON object with keys: {ready:boolean, reasons:list, summary:object}.\n\n        Rules:\n        - Always use the available tools BEFORE deciding:\n        1. Call `flag_labs` on ALL lab values to determine which are abnormal unless there are no labs available.\n            - You are NOT allowed to decide abnormality yourself.\n        2. Call `followup_gap` to calculate time to earliest follow-up unless there are no follow-ups available.\n            - Do not estimate yourself; always call the tool.\n        3. Call `umls_normalize` to normalize diagnoses unless there are no diagnoses available.\n            - First clean and separate diagnoses, then pass them to the tool.\n        - After tool calls, combine results with medication changes to make a final decision.\n        - summary MUST include: {labs:object, followup:object, meds:object, diagnoses:object}.\n        - diagnoses MUST be a list of {input, cui, pref_name, semantic_types}.\n\n        DIAGNOSIS PROCESSING:\n        Before calling umls_normalize, clean and separate diagnoses:\n        - Remove abbreviations: 's/p' (status post), '2/2' (secondary to), 'c/b' (complicated by).\n        - Split compound diagnoses into individual conditions.\n        Examples:\n        * \"R femoral neck fracture s/p ORIF\" \u2192 [\"femoral neck fracture\"]\n        * \"Upper GI bleeding 2/2 duodenal ulcer, acute blood loss anemia\" \u2192 [\"upper gastrointestinal bleeding\", \"duodenal ulcer\", \"acute blood loss anemia\"]\n        * \"COPD exacerbation c/b pneumonia\" \u2192 [\"COPD exacerbation\", \"pneumonia\"]\n        ", "user": "Given this extracted discharge JSON, determine if the patient appears READY for discharge for a demo card.\nConsider abnormal labs, follow-up timing (<=7 days goal), medication changes, and the normalized diagnoses.\nReturn STRICT JSON: {ready:boolean, reasons:list, summary:object}.\n- DO NOT ADD ANY MARKDOWN FORMATTING (no ```json or ```)\n- RETURN ONLY THE JSON OBJECT\nData:\n{\"discharge_date\": \"2024-03-02\", \"chief_complaint\": \"Chest pain\", \"primary_discharge_diagnosis\": \"STEMI, s/p PCI w/ DES to LAD\", \"procedures_performed\": [\"Cardiac catheterization with PCI, DES to LAD\"], \"discharge_condition\": {\"mental_status\": \"Clear and coherent\", \"consciousness_level\": \"Alert and interactive\", \"activity_status\": \"Ambulatory - independent\"}, \"discharge_disposition\": \"Home\", \"medication_changes\": {\"new_medications\": [{\"name\": \"Aspirin\", \"dose\": \"81mg\", \"frequency\": \"daily\"}, {\"name\": \"Clopidogrel\", \"dose\": \"75mg\", \"frequency\": \"daily\"}, {\"name\": \"Metoprolol tartrate\", \"dose\": \"25mg\", \"frequency\": \"BID\"}, {\"name\": \"Atorvastatin\", \"dose\": \"80mg\", \"frequency\": \"daily\"}], \"dose_changes\": []}, \"follow_up_appointments\": [{\"provider\": \"Dr. James Rodriguez\", \"specialty\": \"Cardiology\", \"date\": \"2024-03-09\", \"time\": \"10:30 AM\"}, {\"provider\": \"Cardiac Rehabilitation\", \"specialty\": \"Cardiac Rehabilitation\", \"date\": \"2024-03-15\", \"time\": \"9:00 AM\"}], \"most_recent_labs\": [{\"name\": \"Trop I\", \"value\": \"12.1\", \"date\": \"2024-03-01\"}, {\"name\": \"CK\", \"value\": \"456\", \"date\": \"2024-03-01\"}, {\"name\": \"Cholesterol\", \"value\": \"245\", \"date\": \"2024-02-29\"}, {\"name\": \"LDL\", \"value\": \"162\", \"date\": \"2024-02-29\"}, {\"name\": \"HDL\", \"value\": \"38\", \"date\": \"2024-02-29\"}, {\"name\": \"Triglycerides\", \"value\": \"225\", \"date\": \"2024-02-29\"}, {\"name\": \"Echo EF\", \"value\": \"45%\", \"date\": \"2024-03-01\"}]}\n\n", "result_json": {"discharge_date": "2024-03-02", "chief_complaint": "Chest pain", "primary_discharge_diagnosis": "STEMI, s/p PCI w/ DES to LAD", "procedures_performed": ["Cardiac catheterization with PCI, DES to LAD"], "discharge_condition": {"mental_status": "Clear and coherent", "consciousness_level": "Alert and interactive", "activity_status": "Ambulatory - independent"}, "discharge_disposition": "Home", "medication_changes": {"new_medications": [{"name": "Aspirin", "dose": "81mg", "frequency": "daily"}, {"name": "Clopidogrel", "dose": "75mg", "frequency": "daily"}, {"name": "Metoprolol tartrate", "dose": "25mg", "frequency": "BID"}, {"name": "Atorvastatin", "dose": "80mg", "frequency": "daily"}], "dose_changes": []}, "follow_up_appointments": [{"provider": "Dr. James Rodriguez", "specialty": "Cardiology", "date": "2024-03-09", "time": "10:30 AM"}, {"provider": "Cardiac Rehabilitation", "specialty": "Cardiac Rehabilitation", "date": "2024-03-15", "time": "9:00 AM"}], "most_recent_labs": [{"name": "Trop I", "value": "12.1", "date": "2024-03-01"}, {"name": "CK", "value": "456", "date": "2024-03-01"}, {"name": "Cholesterol", "value": "245", "date": "2024-02-29"}, {"name": "LDL", "value": "162", "date": "2024-02-29"}, {"name": "HDL", "value": "38", "date": "2024-02-29"}, {"name": "Triglycerides", "value": "225", "date": "2024-02-29"}, {"name": "Echo EF", "value": "45%", "date": "2024-03-01"}]}}
{"system": "\n        You are a discharge safety checker. You MUST call tools to analyze each category of data.\n        Do not rely on your own reasoning for these tasks.\n\n        Return a STRICT JSON object with keys: {ready:boolean, reasons:list, summary:object}.\n\n        Rules:\n        - Always use the available tools BEFORE deciding:\n        1. Call `flag_labs` on ALL lab values to determine which are abnormal unless there are no labs available.\n            - You are NOT allowed to decide abnormality yourself.\n        2. Call `followup_gap` to calculate time to earliest follow-up unless there are no follow-ups available.\n            - Do not estimate yourself; always call the tool.\n        3. Call `umls_normalize` to normalize diagnoses unless there are no diagnoses available.\n            - First clean and separate diagnoses, then pass them to the tool.\n        - After tool calls, combine results with medication changes to make a final decision.\n        - summary MUST include: {labs:object, followup:object, meds:object, diagnoses:object}.\n        - diagnoses MUST be a list of {input, cui, pref_name, semantic_types}.\n\n        DIAGNOSIS PROCESSING:\n        Before calling umls_normalize, clean and separate diagnoses:\n        - Remove abbreviations: 's/p' (status post), '2/2' (secondary to), 'c/b' (complicated by).\n        - Split compound diagnoses into individual conditions.\n        Examples:\n        * \"R femoral neck fracture s/p ORIF\" \u2192 [\"femoral neck fracture\"]\n        * \"Upper GI bleeding 2/2 duodenal ulcer, acute blood loss anemia\" \u2192 [\"upper gastrointestinal bleeding\", \"duodenal ulcer\", \"acute blood loss anemia\"]\n        * \"COPD exacerbation c/b pneumonia\" \u2192 [\"COPD exacerbation\", \"pneumonia\"]\n        ", "user": "Given this extracted discharge JSON, determine if the patient appears READY for discharge for a demo card.\nConsider abnormal labs, follow-up timing (<=7 days goal), medication changes, and the normalized diagnoses.\nReturn STRICT JSON: {ready:boolean, reasons:list, summary:object}.\n- DO NOT ADD ANY MARKDOWN FORMATTING (no ```json or ```)\n- RETURN ONLY THE JSON OBJECT\nData:\n{\"discharge_date\": \"2024-01-23\", \"chief_complaint\": \"N/V, altered mental status\", \"primary_discharge_diagnosis\": \"Diabetic ketoacidosis\", \"procedures_performed\": [], \"discharge_condition\": {\"mental_status\": \"Clear and coherent\", \"consciousness_level\": \"Alert and interactive\", \"activity_status\": \"Ambulatory - independent\"}, \"discharge_disposition\": \"Home\", \"medication_changes\": {\"new_medications\": [{\"name\": \"Glucose meter and strips\", \"dose\": \"\", \"frequency\": \"\"}, {\"name\": \"Ketone testing strips\", \"dose\": \"\", \"frequency\": \"\"}], \"dose_changes\": [{\"name\": \"Insulin glargine\", \"old_dose\": \"18u\", \"new_dose\": \"20u\", \"frequency\": \"qHS\"}, {\"name\": \"Insulin lispro\", \"old_dose\": \"\", \"new_dose\": \"\", \"frequency\": \"per sliding scale AC meals\"}]}, \"follow_up_appointments\": [{\"provider\": \"Dr. Lisa Chen\", \"specialty\": \"Endocrinology\", \"date\": \"2024-01-30\", \"time\": \"2:15 PM\"}, {\"provider\": \"Diabetes Educator\", \"specialty\": \"\", \"date\": \"2024-01-26\", \"time\": \"10:00 AM\"}], \"most_recent_labs\": [{\"name\": \"BG\", \"value\": \"145\", \"date\": \"2024-01-22\"}, {\"name\": \"Beta-hydroxybutyrate\", \"value\": \"0.3\", \"date\": \"2024-01-22\"}, {\"name\": \"HbA1c\", \"value\": \"12.8%\", \"date\": \"2024-01-21\"}]}\n\n", "result_json": {"discharge_date": "2024-01-23", "chief_complaint": "N/V, altered mental status", "primary_discharge_diagnosis": "Diabetic ketoacidosis", "procedures_performed": [], "discharge_condition": {"mental_status": "Clear and coherent", "consciousness_level": "Alert and interactive", "activity_status": "Ambulatory - independent"}, "discharge_disposition": "Home", "medication_changes": {"new_medications": [{"name": "Glucose meter and strips", "dose": "", "frequency": ""}, {"name": "Ketone testing strips", "dose": "", "frequency": ""}], "dose_changes": [{"name": "Insulin glargine", "old_dose": "18u", "new_dose": "20u", "frequency": "qHS"}, {"name": "Insulin lispro", "old_dose": "", "new_dose": "", "frequency": "per sliding scale AC meals"}]}, "follow_up_appointments": [{"provider": "Dr. Lisa Chen", "specialty": "Endocrinology", "date": "2024-01-30", "time": "2:15 PM"}, {"provider": "Diabetes Educator", "specialty": "", "date": "2024-01-26", "time": "10:00 AM"}], "most_recent_labs": [{"name": "BG", "value": "145", "date": "2024-01-22"}, {"name": "Beta-hydroxybutyrate", "value": "0.3", "date": "2024-01-22"}, {"name": "HbA1c", "value": "12.8%", "date": "2024-01-21"}]}}
{"system": "\n        You are a discharge safety checker. You MUST call tools to analyze each category of data.\n        Do not rely on your own reasoning for these tasks.\n\n        Return a STRICT JSON object with keys: {ready:boolean, reasons:list, summary:object}.\n\n        Rules:\n        - Always use the available tools BEFORE deciding:\n        1. Call `flag_labs` on ALL lab values to determine which are abnormal unless there are no labs available.\n            - You are NOT allowed to decide abnormality yourself.\n        2. Call `followup_gap` to calculate time to earliest follow-up unless there are no follow-ups available.\n            - Do not estimate yourself; always call the tool.\n        3. Call `umls_normalize` to normalize diagnoses unless there are no diagnoses available.\n            - First clean and separate diagnoses, then pass them to the tool.\n        - After tool calls, combine results with medication changes to make a final decision.\n        - summary MUST include: {labs:object, followup:object, meds:object, diagnoses:object}.\n        - diagnoses MUST be a list of {input, cui, pref_name, semantic_types}.\n\n        DIAGNOSIS PROCESSING:\n        Before calling umls_normalize, clean and separate diagnoses:\n        - Remove abbreviations: 's/p' (status post), '2/2' (secondary to), 'c/b' (complicated by).\n        - Split compound diagnoses into individual conditions.\n        Examples:\n        * \"R femoral neck fracture s/p ORIF\" \u2192 [\"femoral neck fracture\"]\n        * \"Upper GI bleeding 2/2 duodenal ulcer, acute blood loss anemia\" \u2192 [\"upper gastrointestinal bleeding\", \"duodenal ulcer\", \"acute blood loss anemia\"]\n        * \"COPD exacerbation c/b pneumonia\" \u2192 [\"COPD exacerbation\", \"pneumonia\"]\n        ", "user": "Given this extracted discharge JSON, determine if the patient appears READY for discharge for a demo card.\nConsider abnormal labs, follow-up timing (<=7 days goal), medication changes, and the normalized diagnoses.\nReturn STRICT JSON: {ready:boolean, reasons:list, summary:object}.\n- DO NOT ADD ANY MARKDOWN FORMATTING (no ```json or ```)\n- RETURN ONLY THE JSON OBJECT\nData:\n{\"discharge_date\": \"2024-04-16\", \"chief_complaint\": \"Increased SOB and cough\", \"primary_discharge_diagnosis\": \"Acute exacerbation chronic obstructive pulmonary disease\", \"procedures_performed\": [], \"discharge_condition\": {\"mental_status\": \"Clear and coherent\", \"consciousness_level\": \"Alert and interactive\", \"activity_status\": \"Ambulatory with assistance\"}, \"discharge_disposition\": \"Home\", \"medication_changes\": {\"new_medications\": [{\"name\": \"Prednisone\", \"dose\": \"40mg\", \"frequency\": \"PO daily x5d\"}, {\"name\": \"Azithromycin\", \"dose\": \"250mg\", \"frequency\": \"PO daily x5d\"}], \"dose_changes\": [{\"name\": \"Albuterol/ipratropium nebulizer\", \"old_dose\": \"PRN\", \"new_dose\": \"Nebulized\", \"frequency\": \"Q6H x1 week\"}]}, \"follow_up_appointments\": [{\"provider\": \"Dr. Jennifer Park\", \"specialty\": \"Pulmonology\", \"date\": \"2024-04-26\", \"time\": \"1:30 PM\"}, {\"provider\": \"Pulmonary Rehabilitation\", \"specialty\": \"\", \"date\": \"2024-05-03\", \"time\": \"9:00 AM\"}], \"most_recent_labs\": [{\"name\": \"WBC\", \"value\": \"11.2\", \"date\": \"2024-04-12\"}, {\"name\": \"pH\", \"value\": \"7.35\", \"date\": \"2024-04-13\"}, {\"name\": \"pCO2\", \"value\": \"55\", \"date\": \"2024-04-13\"}, {\"name\": \"pO2\", \"value\": \"68\", \"date\": \"2024-04-13\"}, {\"name\": \"CXR\", \"value\": \"improved hyperinflation\", \"date\": \"2024-04-15\"}]}\n\n", "result_json": {"discharge_date": "2024-04-16", "chief_complaint": "Increased SOB and cough", "primary_discharge_diagnosis": "Acute exacerbation chronic obstructive pulmonary disease", "procedures_performed": [], "discharge_condition": {"mental_status": "Clear and coherent", "consciousness_level": "Alert and interactive", "activity_status": "Ambulatory with assistance"}, "discharge_disposition": "Home", "medication_changes": {"new_medications": [{"name": "Prednisone", "dose": "40mg", "frequency": "PO daily x5d"}, {"name": "Azithromycin", "dose": "250mg", "frequency": "PO daily x5d"}], "dose_changes": [{"name": "Albuterol/ipratropium nebulizer", "old_dose": "PRN", "new_dose": "Nebulized", "frequency": "Q6H x1 week"}]}, "follow_up_appointments": [{"provider": "Dr. Jennifer Park", "specialty": "Pulmonology", "date": "2024-04-26", "time": "1:30 PM"}, {"provider": "Pulmonary Rehabilitation", "specialty": "", "date": "2024-05-03", "time": "9:00 AM"}], "most_recent_labs": [{"name": "WBC", "value": "11.2", "date": "2024-04-12"}, {"name": "pH", "value": "7.35", "date": "2024-04-13"}, {"name": "pCO2", "value": "55", "date": "2024-04-13"}, {"name": "pO2", "value": "68", "date": "2024-04-13"}, {"name": "CXR", "value": "improved hyperinflation", "date": "2024-04-15"}]}}
{"system": "\n        You are a discharge safety checker. You MUST call tools to analyze each category of data.\n        Do not rely on your own reasoning for these tasks.\n\n        Return a STRICT JSON object with keys: {ready:boolean, reasons:list, summary:object}.\n\n        Rules:\n        - Always use the available tools BEFORE deciding:\n        1. Call `flag_labs` on ALL lab values to determine which are abnormal unless there are no labs available.\n            - You are NOT allowed to decide abnormality yourself.\n        2. Call `followup_gap` to calculate time to earliest follow-up unless there are no follow-ups available.\n            - Do not estimate yourself; always call the tool.\n        3. Call `umls_normalize` to normalize diagnoses unless there are no diagnoses available.\n            - First clean and separate diagnoses, then pass them to the tool.\n        - After tool calls, combine results with medication changes to make a final decision.\n        - summary MUST include: {labs:object, followup:object, meds:object, diagnoses:object}.\n        - diagnoses MUST be a list of {input, cui, pref_name, semantic_types}.\n\n        DIAGNOSIS PROCESSING:\n        Before calling umls_normalize, clean and separate diagnoses:\n        - Remove abbreviations: 's/p' (status post), '2/2' (secondary to), 'c/b' (complicated by).\n        - Split compound diagnoses into individual conditions.\n        Examples:\n        * \"R femoral neck fracture s/p ORIF\" \u2192 [\"femoral neck fracture\"]\n        * \"Upper GI bleeding 2/2 duodenal ulcer, acute blood loss anemia\" \u2192 [\"upper gastrointestinal bleeding\", \"duodenal ulcer\", \"acute blood loss anemia\"]\n        * \"COPD exacerbation c/b pneumonia\" \u2192 [\"COPD exacerbation\", \"pneumonia\"]\n        ", "user": "Given this extracted discharge JSON, determine if the patient appears READY for discharge for a demo card.\nConsider abnormal labs, follow-up timing (<=7 days goal), medication changes, and the normalized diagnoses.\nReturn STRICT JSON: {ready:boolean, reasons:list, summary:object}.\n- DO NOT ADD ANY MARKDOWN FORMATTING (no ```json or ```)\n- RETURN ONLY THE JSON OBJECT\nData:\n{\"discharge_date\": \"2024-05-12\", \"chief_complaint\": \"RUQ pain and fever\", \"primary_discharge_diagnosis\": \"Acute cholangitis, choledocholithiasis s/p ERCP\", \"procedures_performed\": [\"ERCP w/ sphincterotomy and stone extraction\"], \"discharge_condition\": {\"mental_status\": \"Clear and coherent\", \"consciousness_level\": \"Alert and interactive\", \"activity_status\": \"Ambulatory - independent\"}, \"discharge_disposition\": \"Home\", \"medication_changes\": {\"new_medications\": [{\"name\": \"Ciprofloxacin\", \"dose\": \"500mg\", \"frequency\": \"PO BID\"}, {\"name\": \"Ursodiol\", \"dose\": \"300mg\", \"frequency\": \"PO BID\"}, {\"name\": \"Omeprazole\", \"dose\": \"20mg\", \"frequency\": \"PO daily\"}], \"dose_changes\": []}, \"follow_up_appointments\": [{\"provider\": \"Mark Sullivan\", \"specialty\": \"Surgery\", \"date\": \"2024-05-22\", \"time\": \"11:15 AM\"}], \"most_recent_labs\": [{\"name\": \"T bili\", \"value\": \"2.1\", \"date\": \"2024-05-11\"}, {\"name\": \"D bili\", \"value\": \"1.4\", \"date\": \"2024-05-11\"}, {\"name\": \"ALT\", \"value\": \"89\", \"date\": \"2024-05-11\"}, {\"name\": \"AST\", \"value\": \"72\", \"date\": \"2024-05-11\"}, {\"name\": \"Alk phos\", \"value\": \"189\", \"date\": \"2024-05-11\"}, {\"name\": \"WBC\", \"value\": \"9.2\", \"date\": \"2024-05-11\"}]}\n\n", "result_json": {"discharge_date": "2024-05-12", "chief_complaint": "RUQ pain and fever", "primary_discharge_diagnosis": "Acute cholangitis, choledocholithiasis s/p ERCP", "procedures_performed": ["ERCP w/ sphincterotomy and stone extraction"], "discharge_condition": {"mental_status": "Clear and coherent", "consciousness_level": "Alert and interactive", "activity_status": "Ambulatory - independent"}, "discharge_disposition": "Home", "medication_changes": {"new_medications": [{"name": "Ciprofloxacin", "dose": "500mg", "frequency": "PO BID"}, {"name": "Ursodiol", "dose": "300mg", "frequency": "PO BID"}, {"name": "Omeprazole", "dose": "20mg", "frequency": "PO daily"}], "dose_changes": []}, "follow_up_appointments": [{"provider": "Mark Sullivan", "specialty": "Surgery", "date": "2024-05-22", "time": "11:15 AM"}], "most_recent_labs": [{"name": "T bili", "value": "2.1", "date": "2024-05-11"}, {"name": "D bili", "value": "1.4", "date": "2024-05-11"}, {"name": "ALT", "value": "89", "date": "2024-05-11"}, {"name": "AST", "value": "72", "date": "2024-05-11"}, {"name": "Alk phos", "value": "189", "date": "2024-05-11"}, {"name": "WBC", "value": "9.2", "date": "2024-05-11"}]}}
{"system": "\n        You are a discharge safety checker. You MUST call tools to analyze each category of data.\n        Do not rely on your own reasoning for these tasks.\n\n        Return a STRICT JSON object with keys: {ready:boolean, reasons:list, summary:object}.\n\n        Rules:\n        - Always use the available tools BEFORE deciding:\n        1. Call `flag_labs` on ALL lab values to determine which are abnormal unless there are no labs available.\n            - You are NOT allowed to decide abnormality yourself.\n        2. Call `followup_gap` to calculate time to earliest follow-up unless there are no follow-ups available.\n            - Do not estimate yourself; always call the tool.\n        3. Call `umls_normalize` to normalize diagnoses unless there are no diagnoses available.\n            - First clean and separate diagnoses, then pass them to the tool.\n        - After tool calls, combine results with medication changes to make a final decision.\n        - summary MUST include: {labs:object, followup:object, meds:object, diagnoses:object}.\n        - diagnoses MUST be a list of {input, cui, pref_name, semantic_types}.\n\n        DIAGNOSIS PROCESSING:\n        Before calling umls_normalize, clean and separate diagnoses:\n        - Remove abbreviations: 's/p' (status post), '2/2' (secondary to), 'c/b' (complicated by).\n        - Split compound diagnoses into individual conditions.\n        Examples:\n        * \"R femoral neck fracture s/p ORIF\" \u2192 [\"femoral neck fracture\"]\n        * \"Upper GI bleeding 2/2 duodenal ulcer, acute blood loss anemia\" \u2192 [\"upper gastrointestinal bleeding\", \"duodenal ulcer\", \"acute blood loss anemia\"]\n        * \"COPD exacerbation c/b pneumonia\" \u2192 [\"COPD exacerbation\", \"pneumonia\"]\n        ", "user": "Given this extracted discharge JSON, determine if the patient appears READY for discharge for a demo card.\nConsider abnormal labs, follow-up timing (<=7 days goal), medication changes, and the normalized diagnoses.\nReturn STRICT JSON: {ready:boolean, reasons:list, summary:object}.\n- DO NOT ADD ANY MARKDOWN FORMATTING (no ```json or ```)\n- RETURN ONLY THE JSON OBJECT\nData:\n{\"discharge_date\": \"2024-06-09\", \"chief_complaint\": \"Decreased UOP and leg swelling\", \"primary_discharge_diagnosis\": \"Acute on chronic kidney injury, CHF exacerbation\", \"procedures_performed\": [], \"discharge_condition\": {\"mental_status\": \"Clear and coherent\", \"consciousness_level\": \"Alert and interactive\", \"activity_status\": \"Ambulatory - independent\"}, \"discharge_disposition\": \"Home (Assisted Living) w/ VNA\", \"medication_changes\": {\"new_medications\": [{\"name\": \"Potassium chloride\", \"dose\": \"20mEq\", \"frequency\": \"PO daily\"}], \"dose_changes\": [{\"name\": \"Furosemide\", \"old_dose\": \"20mg\", \"new_dose\": \"40mg\", \"frequency\": \"daily\"}, {\"name\": \"Carvedilol\", \"old_dose\": \"3.125mg\", \"new_dose\": \"6.25mg\", \"frequency\": \"BID\"}, {\"name\": \"Lisinopril\", \"old_dose\": \"10mg\", \"new_dose\": \"5mg\", \"frequency\": \"daily\"}]}, \"follow_up_appointments\": [{\"provider\": \"Dr. Rachel Stone\", \"specialty\": \"Nephrology\", \"date\": \"2024-06-16\", \"time\": \"10:00 AM\"}, {\"provider\": \"Dr. Kevin Murphy\", \"specialty\": \"Cardiology\", \"date\": \"2024-06-20\", \"time\": \"2:30 PM\"}], \"most_recent_labs\": [{\"name\": \"Creatinine\", \"value\": \"1.8\", \"date\": \"2024-06-08\"}, {\"name\": \"BUN\", \"value\": \"45\", \"date\": \"2024-06-08\"}, {\"name\": \"Potassium\", \"value\": \"4.2\", \"date\": \"2024-06-08\"}, {\"name\": \"Ejection Fraction\", \"value\": \"35%\", \"date\": \"2024-06-06\"}, {\"name\": \"BNP\", \"value\": \"456\", \"date\": \"2024-06-08\"}]}\n\n", "result_json": {"discharge_date": "2024-06-09", "chief_complaint": "Decreased UOP and leg swelling", "primary_discharge_diagnosis": "Acute on chronic kidney injury, CHF exacerbation", "procedures_performed": [], "discharge_condition": {"mental_status": "Clear and coherent", "consciousness_level": "Alert and interactive", "activity_status": "Ambulatory - independent"}, "discharge_disposition": "Home (Assisted Living) w/ VNA", "medication_changes": {"new_medications": [{"name": "Potassium chloride", "dose": "20mEq", "frequency": "PO daily"}], "dose_changes": [{"name": "Furosemide", "old_dose": "20mg", "new_dose": "40mg", "frequency": "daily"}, {"name": "Carvedilol", "old_dose": "3.125mg", "new_dose": "6.25mg", "frequency": "BID"}, {"name": "Lisinopril", "old_dose": "10mg", "new_dose": "5mg", "frequency": "daily"}]}, "follow_up_appointments": [{"provider": "Dr. Rachel Stone", "specialty": "Nephrology", "date": "2024-06-16", "time": "10:00 AM"}, {"provider": "Dr. Kevin Murphy", "specialty": "Cardiology", "date": "2024-06-20", "time": "2:30 PM"}], "most_recent_labs": [{"name": "Creatinine", "value": "1.8", "date": "2024-06-08"}, {"name": "BUN", "value": "45", "date": "2024-06-08"}, {"name": "Potassium", "value": "4.2", "date": "2024-06-08"}, {"name": "Ejection Fraction", "value": "35%", "date": "2024-06-06"}, {"name": "BNP", "value": "456", "date": "2024-06-08"}]}}
{"system": "\n        You are a discharge safety checker. You MUST call tools to analyze each category of data.\n        Do not rely on your own reasoning for these tasks.\n\n        Return a STRICT JSON object with keys: {ready:boolean, reasons:list, summary:object}.\n\n        Rules:\n        - Always use the available tools BEFORE deciding:\n        1. Call `flag_labs` on ALL lab values to determine which are abnormal unless there are no labs available.\n            - You are NOT allowed to decide abnormality yourself.\n        2. Call `followup_gap` to calculate time to earliest follow-up unless there are no follow-ups available.\n            - Do not estimate yourself; always call the tool.\n        3. Call `umls_normalize` to normalize diagnoses unless there are no diagnoses available.\n            - First clean and separate diagnoses, then pass them to the tool.\n        - After tool calls, combine results with medication changes to make a final decision.\n        - summary MUST include: {labs:object, followup:object, meds:object, diagnoses:object}.\n        - diagnoses MUST be a list of {input, cui, pref_name, semantic_types}.\n\n        DIAGNOSIS PROCESSING:\n        Before calling umls_normalize, clean and separate diagnoses:\n        - Remove abbreviations: 's/p' (status post), '2/2' (secondary to), 'c/b' (complicated by).\n        - Split compound diagnoses into individual conditions.\n        Examples:\n        * \"R femoral neck fracture s/p ORIF\" \u2192 [\"femoral neck fracture\"]\n        * \"Upper GI bleeding 2/2 duodenal ulcer, acute blood loss anemia\" \u2192 [\"upper gastrointestinal bleeding\", \"duodenal ulcer\", \"acute blood loss anemia\"]\n        * \"COPD exacerbation c/b pneumonia\" \u2192 [\"COPD exacerbation\", \"pneumonia\"]\n        ", "user": "Given this extracted discharge JSON, determine if the patient appears READY for discharge for a demo card.\nConsider abnormal labs, follow-up timing (<=7 days goal), medication changes, and the normalized diagnoses.\nReturn STRICT JSON: {ready:boolean, reasons:list, summary:object}.\n- DO NOT ADD ANY MARKDOWN FORMATTING (no ```json or ```)\n- RETURN ONLY THE JSON OBJECT\nData:\n{\"discharge_date\": \"2024-07-17\", \"chief_complaint\": \"Right leg redness and swelling\", \"primary_discharge_diagnosis\": \"Cellulitis, right lower extremity\", \"procedures_performed\": [], \"discharge_condition\": {\"mental_status\": \"Clear and coherent\", \"consciousness_level\": \"Alert and interactive\", \"activity_status\": \"Ambulatory - independent\"}, \"discharge_disposition\": \"Home\", \"medication_changes\": {\"new_medications\": [{\"name\": \"Clindamycin\", \"dose\": \"300mg\", \"frequency\": \"PO QID\"}, {\"name\": \"Insulin glargine\", \"dose\": \"25u\", \"frequency\": \"daily\"}, {\"name\": \"Insulin lispro\", \"dose\": \"per sliding scale\", \"frequency\": \"\"}], \"dose_changes\": [{\"name\": \"Metformin\", \"old_dose\": \"500mg\", \"new_dose\": \"1000mg\", \"frequency\": \"BID\"}]}, \"follow_up_appointments\": [{\"provider\": \"Dr. Maria Gonzalez\", \"specialty\": \"PCP\", \"date\": \"07/24/2024\", \"time\": \"3:00 PM\"}, {\"provider\": \"Dr. Thomas Lee\", \"specialty\": \"Endocrinology\", \"date\": \"08/05/2024\", \"time\": \"1:45 PM\"}], \"most_recent_labs\": [{\"name\": \"WBC\", \"value\": \"8.5\", \"date\": \"07/17\"}, {\"name\": \"Hgb\", \"value\": \"11.8\", \"date\": \"07/17\"}, {\"name\": \"Plt\", \"value\": \"387\", \"date\": \"07/14\"}, {\"name\": \"Glu\", \"value\": \"145\", \"date\": \"07/17\"}, {\"name\": \"HbA1c\", \"value\": \"9.8%\", \"date\": \"07/14\"}]}\n\n", "result_json": {"discharge_date": "2024-07-17", "chief_complaint": "Right leg redness and swelling", "primary_discharge_diagnosis": "Cellulitis, right lower extremity", "procedures_performed": [], "discharge_condition": {"mental_status": "Clear and coherent", "consciousness_level": "Alert and interactive", "activity_status": "Ambulatory - independent"}, "discharge_disposition": "Home", "medication_changes": {"new_medications": [{"name": "Clindamycin", "dose": "300mg", "frequency": "PO QID"}, {"name": "Insulin glargine", "dose": "25u", "frequency": "daily"}, {"name": "Insulin lispro", "dose": "per sliding scale", "frequency": ""}], "dose_changes": [{"name": "Metformin", "old_dose": "500mg", "new_dose": "1000mg", "frequency": "BID"}]}, "follow_up_appointments": [{"provider": "Dr. Maria Gonzalez", "specialty": "PCP", "date": "07/24/2024", "time": "3:00 PM"}, {"provider": "Dr. Thomas Lee", "specialty": "Endocrinology", "date": "08/05/2024", "time": "1:45 PM"}], "most_recent_labs": [{"name": "WBC", "value": "8.5", "date": "07/17"}, {"name": "Hgb", "value": "11.8", "date": "07/17"}, {"name": "Plt", "value": "387", "date": "07/14"}, {"name": "Glu", "value": "145", "date": "07/17"}, {"name": "HbA1c", "value": "9.8%", "date": "07/14"}]}}
{"system": "\n        You are a discharge safety checker. You MUST call tools to analyze each category of data.\n        Do not rely on your own reasoning for these tasks.\n\n        Return a STRICT JSON object with keys: {ready:boolean, reasons:list, summary:object}.\n\n        Rules:\n        - Always use the available tools BEFORE deciding:\n        1. Call `flag_labs` on ALL lab values to determine which are abnormal unless there are no labs available.\n            - You are NOT allowed to decide abnormality yourself.\n        2. Call `followup_gap` to calculate time to earliest follow-up unless there are no follow-ups available.\n            - Do not estimate yourself; always call the tool.\n        3. Call `umls_normalize` to normalize diagnoses unless there are no diagnoses available.\n            - First clean and separate diagnoses, then pass them to the tool.\n        - After tool calls, combine results with medication changes to make a final decision.\n        - summary MUST include: {labs:object, followup:object, meds:object, diagnoses:object}.\n        - diagnoses MUST be a list of {input, cui, pref_name, semantic_types}.\n\n        DIAGNOSIS PROCESSING:\n        Before calling umls_normalize, clean and separate diagnoses:\n        - Remove abbreviations: 's/p' (status post), '2/2' (secondary to), 'c/b' (complicated by).\n        - Split compound diagnoses into individual conditions.\n        Examples:\n        * \"R femoral neck fracture s/p ORIF\" \u2192 [\"femoral neck fracture\"]\n        * \"Upper GI bleeding 2/2 duodenal ulcer, acute blood loss anemia\" \u2192 [\"upper gastrointestinal bleeding\", \"duodenal ulcer\", \"acute blood loss anemia\"]\n        * \"COPD exacerbation c/b pneumonia\" \u2192 [\"COPD exacerbation\", \"pneumonia\"]\n        ", "user": "Given this extracted discharge JSON, determine if the patient appears READY for discharge for a demo card.\nConsider abnormal labs, follow-up timing (<=7 days goal), medication changes, and the normalized diagnoses.\nReturn STRICT JSON: {ready:boolean, reasons:list, summary:object}.\n- DO NOT ADD ANY MARKDOWN FORMATTING (no ```json or ```)\n- RETURN ONLY THE JSON OBJECT\nData:\n{\"discharge_date\": \"2024-08-25\", \"chief_complaint\": \"Black tarry stools\", \"primary_discharge_diagnosis\": \"Upper GI bleeding 2/2 duodenal ulcer, acute blood loss anemia\", \"procedures_performed\": [\"EGD w/ thermal therapy to bleeding duodenal ulcer on 2024-08-23\"], \"discharge_condition\": {\"mental_status\": \"Clear and coherent\", \"consciousness_level\": \"Alert and interactive\", \"activity_status\": \"Ambulatory - independent\"}, \"discharge_disposition\": \"Home\", \"medication_changes\": {\"new_medications\": [{\"name\": \"Omeprazole\", \"dose\": \"40mg\", \"frequency\": \"PO BID\"}, {\"name\": \"Sucralfate\", \"dose\": \"1g\", \"frequency\": \"PO QID\"}, {\"name\": \"Iron sulfate\", \"dose\": \"325mg\", \"frequency\": \"PO daily\"}, {\"name\": \"Acetaminophen\", \"dose\": \"650mg\", \"frequency\": \"PO Q6H PRN pain\"}], \"dose_changes\": []}, \"follow_up_appointments\": [{\"provider\": \"Dr. Andrew Peterson\", \"specialty\": \"GI\", \"date\": \"2024-09-05\", \"time\": \"2:15 PM\"}, {\"provider\": \"\", \"specialty\": \"\", \"date\": \"2024-10-18\", \"time\": \"11:00 AM\"}], \"most_recent_labs\": [{\"name\": \"Hemoglobin\", \"value\": \"10.2\", \"date\": \"2024-08-24\"}, {\"name\": \"BUN\", \"value\": \"25\", \"date\": \"2024-08-24\"}, {\"name\": \"Creatinine\", \"value\": \"1.1\", \"date\": \"2024-08-24\"}]}\n\n", "result_json": {"discharge_date": "2024-08-25", "chief_complaint": "Black tarry stools", "primary_discharge_diagnosis": "Upper GI bleeding 2/2 duodenal ulcer, acute blood loss anemia", "procedures_performed": ["EGD w/ thermal therapy to bleeding duodenal ulcer on 2024-08-23"], "discharge_condition": {"mental_status": "Clear and coherent", "consciousness_level": "Alert and interactive", "activity_status": "Ambulatory - independent"}, "discharge_disposition": "Home", "medication_changes": {"new_medications": [{"name": "Omeprazole", "dose": "40mg", "frequency": "PO BID"}, {"name": "Sucralfate", "dose": "1g", "frequency": "PO QID"}, {"name": "Iron sulfate", "dose": "325mg", "frequency": "PO daily"}, {"name": "Acetaminophen", "dose": "650mg", "frequency": "PO Q6H PRN pain"}], "dose_changes": []}, "follow_up_appointments": [{"provider": "Dr. Andrew Peterson", "specialty": "GI", "date": "2024-09-05", "time": "2:15 PM"}, {"provider": "", "specialty": "", "date": "2024-10-18", "time": "11:00 AM"}], "most_recent_labs": [{"name": "Hemoglobin", "value": "10.2", "date": "2024-08-24"}, {"name": "BUN", "value": "25", "date": "2024-08-24"}, {"name": "Creatinine", "value": "1.1", "date": "2024-08-24"}]}}
{"system": "\n        You are a discharge safety checker. You MUST call tools to analyze each category of data.\n        Do not rely on your own reasoning for these tasks.\n\n        Return a STRICT JSON object with keys: {ready:boolean, reasons:list, summary:object}.\n\n        Rules:\n        - Always use the available tools BEFORE deciding:\n        1. Call `flag_labs` on ALL lab values to determine which are abnormal unless there are no labs available.\n            - You are NOT allowed to decide abnormality yourself.\n        2. Call `followup_gap` to calculate time to earliest follow-up unless there are no follow-ups available.\n            - Do not estimate yourself; always call the tool.\n        3. Call `umls_normalize` to normalize diagnoses unless there are no diagnoses available.\n            - First clean and separate diagnoses, then pass them to the tool.\n        - After tool calls, combine results with medication changes to make a final decision.\n        - summary MUST include: {labs:object, followup:object, meds:object, diagnoses:object}.\n        - diagnoses MUST be a list of {input, cui, pref_name, semantic_types}.\n\n        DIAGNOSIS PROCESSING:\n        Before calling umls_normalize, clean and separate diagnoses:\n        - Remove abbreviations: 's/p' (status post), '2/2' (secondary to), 'c/b' (complicated by).\n        - Split compound diagnoses into individual conditions.\n        Examples:\n        * \"R femoral neck fracture s/p ORIF\" \u2192 [\"femoral neck fracture\"]\n        * \"Upper GI bleeding 2/2 duodenal ulcer, acute blood loss anemia\" \u2192 [\"upper gastrointestinal bleeding\", \"duodenal ulcer\", \"acute blood loss anemia\"]\n        * \"COPD exacerbation c/b pneumonia\" \u2192 [\"COPD exacerbation\", \"pneumonia\"]\n        ", "user": "Given this extracted discharge JSON, determine if the patient appears READY for discharge for a demo card.\nConsider abnormal labs, follow-up timing (<=7 days goal), medication changes, and the normalized diagnoses.\nReturn STRICT JSON: {ready:boolean, reasons:list, summary:object}.\n- DO NOT ADD ANY MARKDOWN FORMATTING (no ```json or ```)\n- RETURN ONLY THE JSON OBJECT\nData:\n{\"discharge_date\": \"2024-09-15\", \"chief_complaint\": \"Left-sided weakness and slurred speech\", \"primary_discharge_diagnosis\": \"Acute ischemic stroke, R MCA territory\", \"procedures_performed\": [], \"discharge_condition\": {\"mental_status\": \"Clear and coherent\", \"consciousness_level\": \"Alert and interactive\", \"activity_status\": \"Ambulatory w/ assistance (uses cane)\"}, \"discharge_disposition\": \"Home w/ home health services\", \"medication_changes\": {\"new_medications\": [{\"name\": \"Warfarin\", \"dose\": \"5mg\", \"frequency\": \"PO daily\"}, {\"name\": \"Aspirin\", \"dose\": \"81mg\", \"frequency\": \"PO daily\"}, {\"name\": \"Atorvastatin\", \"dose\": \"80mg\", \"frequency\": \"PO daily\"}], \"dose_changes\": [{\"name\": \"Lisinopril\", \"old_dose\": \"5mg\", \"new_dose\": \"10mg\", \"frequency\": \"daily\"}]}, \"follow_up_appointments\": [{\"provider\": \"Dr. Emily Zhang\", \"specialty\": \"Neurology\", \"date\": \"09/25/2024\", \"time\": \"1:30 PM\"}, {\"provider\": \"INR clinic\", \"specialty\": \"\", \"date\": \"09/18/2024\", \"time\": \"9:00 AM\"}], \"most_recent_labs\": []}\n\n", "result_json": {"discharge_date": "2024-09-15", "chief_complaint": "Left-sided weakness and slurred speech", "primary_discharge_diagnosis": "Acute ischemic stroke, R MCA territory", "procedures_performed": [], "discharge_condition": {"mental_status": "Clear and coherent", "consciousness_level": "Alert and interactive", "activity_status": "Ambulatory w/ assistance (uses cane)"}, "discharge_disposition": "Home w/ home health services", "medication_changes": {"new_medications": [{"name": "Warfarin", "dose": "5mg", "frequency": "PO daily"}, {"name": "Aspirin", "dose": "81mg", "frequency": "PO daily"}, {"name": "Atorvastatin", "dose": "80mg", "frequency": "PO daily"}], "dose_changes": [{"name": "Lisinopril", "old_dose": "5mg", "new_dose": "10mg", "frequency": "daily"}]}, "follow_up_appointments": [{"provider": "Dr. Emily Zhang", "specialty": "Neurology", "date": "09/25/2024", "time": "1:30 PM"}, {"provider": "INR clinic", "specialty": "", "date": "09/18/2024", "time": "9:00 AM"}], "most_recent_labs": []}}
{"system": "\n        You are a discharge safety checker. You MUST call tools to analyze each category of data.\n        Do not rely on your own reasoning for these tasks.\n\n        Return a STRICT JSON object with keys: {ready:boolean, reasons:list, summary:object}.\n\n        Rules:\n        - Always use the available tools BEFORE deciding:\n        1. Call `flag_labs` on ALL lab values to determine which are abnormal unless there are no labs available.\n            - You are NOT allowed to decide abnormality yourself.\n        2. Call `followup_gap` to calculate time to earliest follow-up unless there are no follow-ups available.\n            - Do not estimate yourself; always call the tool.\n        3. Call `umls_normalize` to normalize diagnoses unless there are no diagnoses available.\n            - First clean and separate diagnoses, then pass them to the tool.\n        - After tool calls, combine results with medication changes to make a final decision.\n        - summary MUST include: {labs:object, followup:object, meds:object, diagnoses:object}.\n        - diagnoses MUST be a list of {input, cui, pref_name, semantic_types}.\n\n        DIAGNOSIS PROCESSING:\n        Before calling umls_normalize, clean and separate diagnoses:\n        - Remove abbreviations: 's/p' (status post), '2/2' (secondary to), 'c/b' (complicated by).\n        - Split compound diagnoses into individual conditions.\n        Examples:\n        * \"R femoral neck fracture s/p ORIF\" \u2192 [\"femoral neck fracture\"]\n        * \"Upper GI bleeding 2/2 duodenal ulcer, acute blood loss anemia\" \u2192 [\"upper gastrointestinal bleeding\", \"duodenal ulcer\", \"acute blood loss anemia\"]\n        * \"COPD exacerbation c/b pneumonia\" \u2192 [\"COPD exacerbation\", \"pneumonia\"]\n        ", "user": "Given this extracted discharge JSON, determine if the patient appears READY for discharge for a demo card.\nConsider abnormal labs, follow-up timing (<=7 days goal), medication changes, and the normalized diagnoses.\nReturn STRICT JSON: {ready:boolean, reasons:list, summary:object}.\n- DO NOT ADD ANY MARKDOWN FORMATTING (no ```json or ```)\n- RETURN ONLY THE JSON OBJECT\nData:\n{\"discharge_date\": \"2024-10-08\", \"chief_complaint\": \"Right hip pain s/p fall\", \"primary_discharge_diagnosis\": \"R femoral neck fracture s/p ORIF\", \"procedures_performed\": [\"ORIF right femoral neck fracture on 2024-10-04\"], \"discharge_condition\": {\"mental_status\": \"Clear and coherent\", \"consciousness_level\": \"Alert and interactive\", \"activity_status\": \"Ambulatory w/ walker, WBAT\"}, \"discharge_disposition\": \"Skilled nursing facility (Sunshine Manor)\", \"medication_changes\": {\"new_medications\": [{\"name\": \"Oxycodone\", \"dose\": \"5mg\", \"frequency\": \"Q4H PRN pain\"}, {\"name\": \"Acetaminophen\", \"dose\": \"650mg\", \"frequency\": \"Q6H\"}, {\"name\": \"Docusate\", \"dose\": \"100mg\", \"frequency\": \"BID\"}], \"dose_changes\": [{\"name\": \"Calcium carbonate\", \"old_dose\": \"500mg\", \"new_dose\": \"1200mg\", \"frequency\": \"daily\"}, {\"name\": \"Vitamin D3\", \"old_dose\": \"1000u\", \"new_dose\": \"2000u\", \"frequency\": \"daily\"}]}, \"follow_up_appointments\": [{\"provider\": \"Dr. Michael Johnson\", \"specialty\": \"Orthopedic Surgery\", \"date\": \"2024-10-22\", \"time\": \"9:30 AM\"}], \"most_recent_labs\": [{\"name\": \"Hemoglobin\", \"value\": \"9.2\", \"date\": \"2024-10-05\"}]}\n\n", "result_json": {"discharge_date": "2024-10-08", "chief_complaint": "Right hip pain s/p fall", "primary_discharge_diagnosis": "R femoral neck fracture s/p ORIF", "procedures_performed": ["ORIF right femoral neck fracture on 2024-10-04"], "discharge_condition": {"mental_status": "Clear and coherent", "consciousness_level": "Alert and interactive", "activity_status": "Ambulatory w/ walker, WBAT"}, "discharge_disposition": "Skilled nursing facility (Sunshine Manor)", "medication_changes": {"new_medications": [{"name": "Oxycodone", "dose": "5mg", "frequency": "Q4H PRN pain"}, {"name": "Acetaminophen", "dose": "650mg", "frequency": "Q6H"}, {"name": "Docusate", "dose": "100mg", "frequency": "BID"}], "dose_changes": [{"name": "Calcium carbonate", "old_dose": "500mg", "new_dose": "1200mg", "frequency": "daily"}, {"name": "Vitamin D3", "old_dose": "1000u", "new_dose": "2000u", "frequency": "daily"}]}, "follow_up_appointments": [{"provider": "Dr. Michael Johnson", "specialty": "Orthopedic Surgery", "date": "2024-10-22", "time": "9:30 AM"}], "most_recent_labs": [{"name": "Hemoglobin", "value": "9.2", "date": "2024-10-05"}]}}
